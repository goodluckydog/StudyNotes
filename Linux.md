# 第一章 初始Linux

## 1.1 操作系统概述

* 计算机是由硬件+软件组合而来
* 操作系统是用户和计算机硬件之间的桥梁
  * 操作系统是软件的一类
  * 主要作用是协助用户调度硬件工作，充当用户和计算机硬件之间的桥梁

* 常见操作系统
  * PC
    * windows
    * Linux
    * macOS
  * 手机
    * Android
    * ios
    * HarmonyOS

## 1.2 初始Linux

### 1.2.1 操作系统的诞生

* Linux创始人：林纳斯 托瓦兹

### 1.2.2 Linux内核

* Linux系统的组成如下
  * Linux系统内核：内核提供系统最核心的功能
    * 调度CPU
    * 调度内存
    * 调度文件系统
    * 调度网络通讯
    * 调度IO
  * 系统级应用程序：出厂自带程序，可供用户快速上手操作系统
    * 文件管理器
    * 任务管理器
    * 图片查看
    * 音乐播放

![image-20241015195005817](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241015195005817.png)

### 1.2.3 常见的Linux发行版

* 内核提供了Linux系统的主要功能

* 内核是免费的、开源的

  * 任何人都可以获得并修改内核，并且自行集成系统级程序
  * 提供了内核+系统级程序的完整封装，称之为Linux发行版

* 目前市面上有非常多Linxu发行版

  * 主要涉及到CentOS和Ubuntu

  ![image-20241015195307695](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241015195307695.png)

## 1.3 虚拟机介绍

### 1.3.1 什么是虚拟机

![image-20241015200520955](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241015200520955.png)

* 借助虚拟化技术，我们可以在系统中，通过软件：模拟计算机硬件，并给虚拟硬件安装真实的操作系统（所以需要自行安装操作系统）
* 这样得到的一台虚拟的电脑，称之为虚拟机

### 1.3.2 为什么要使用虚拟机

* 我们需要借助虚拟机来获得可用的Linux环境进行学习

## 1.4 安装VMware Workstation

* 在CSDN收藏夹Linxu中（微信账号）

## 1.5 在VMware上安装操作系统

## 1.7 远程连接Linux系统

### 1.7.1 操作系统的图形化、命令行2种操作模式

* 操作系统的两种使用方法

  * 图形化的页面使用操作系统

  * 以命令的形式使用操作系统

### 1.7.2 使用命令行操作Linux系统

* 无论是企业开发亦或是个人开发，使用Linux操作系统，多数都是使用：命令行
* Linux操作系统的图形化页面：不好用、不稳定
* 在开发中，使用命令行形式，效率更高，更加直观，并且资源占用率低，程序运行更稳定

### 1.7.3 使用FinalShell软件连接Linux操作系统

* 虽然使用VMware可以得到Linux虚拟机，但是在VMware中操作系统的命令行页面不太方便：
  * 内容的复制、粘贴跨越VMware不方便
  * 文件的上传、下载跨越VMware不方便
  * 也就是和Linux系统的各类交互，跨越Vmware不方便
* 可以通过第三方软件，FinalShell，远程连接到Linux操作系统之上，并通过FinalShell去操作Linux系统，这样各类操作都会十分的方便

### 1.7.4 VScode连接Linux操作系统

* 基本流程参考文章：[在vscode中远程连接linux进行开发_vscode连接linux-CSDN博客](https://blog.csdn.net/hutaotaotao/article/details/140899244)

* 环境配置参考文章：[【环境配置】【保姆级教程】VSCode SSH 连接 VMware虚拟机Linux Ubuntu 22.04 配置-CSDN博客](https://blog.csdn.net/qq_45223683/article/details/141140237)
  * 尤其需要注意ssh秘钥在Linux中的存放位置（卡了2个小时）

# 二. 第二章 Linux基础命令

## 2.1 Linux的目录结构

* Linux系统的目录结构

  * Linux的目录结构是树型结构

  * Linux没有盘符的概念，只有一个顶级目录，称为根目录/，所有文件都在它下面

    * 而Windows操作系统可以拥有多个顶级目录，即多个  盘符，如C盘、D盘

    ![image-20241022203108035](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241022203108035.png)

* Linux系统的路径表达形式

  * 在Linux系统中，路径之间通过层级结构表示关系，使用：/来表示
    * /usr/local/hello.txt
    * 在Windows系统中，使用：\表示层级关系

## 2.2 Linux命令基础

### 2.2.1 什么是命令

学习Linux，本质上是学习在命令行下熟练使用Linux的各类命令

* 命令行：即Linux终端（Terminal），是一种命令提示符页面。以纯“字符”的形式操作系统，可以使用各种字符化命令对系统发出操作指令
* 命令：即Linux操作指令，是系统内置的程序。一个命令就是一个Linux的程序。命令没有图形化页面，可以再命令行（终端中）提供字符化的反馈

### 2.2.2 Linux命令的基础格式

无论是什么命令，用于什么用途，在Linux中，命令有其通用的格式

```shell
command [-options] [parameter]
```

* command: 命令本身
* -options：[可选，非必填]命令的一些选项，可以通过选项控制命令的行为细节
* parameter：[可选，非必填]命令的参数，多数用于命令的指向目标等



示例：

```shell
 ls -l /home/itheima
 cp -r test1 test2
```

## 2.3 ls命令入门

### 2.3.1 ls命令

* 作用：列出目录下的内容

* 语法：

  ```shell
  ls [-a -l -h] [Linux路径]
  ```

  * -a -l -h是可选的参数
  * Linux路径是此命令可选的参数

* 当不使用选项和参数，直接使用ls命令本体，表示：以平铺形式，列出当前工作目录下的内容

![image-20241022205934498](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241022205934498.png)

### 2.3.2 HOME目录和工作目录

直接输入ls命令，表示列出当前工作目录下的内容

Linux系统的命令行终端，在启动时，默认会加载：

* 当前登录用户的HOME目录作为当前工作目录
* HOME目录：每个Linux操作用户在Linux系统的个人账户目录，路径在/home/用户名
  * /home/lcz

## 2.4 ls命令的参数和选项

### 2.4.1 ls命令的参数使用

* 可以人为输入路径，以显示对应路径下的文件、文件夹

### 2.4.2 ls命令的选项使用

* ls命令的选项：-a -l -h

  * -a: 表示all，列出全部文件（包含隐藏的文件/文件夹）
    * 隐藏的文件/文件夹以.开头

  * -l：以列表（竖向排列）的形式展示内容，并给出更多信息

* Linux命令允许语法中的选项可以组合使用

  ```shell
  ls -a -l
  ls -al
  ls -la
  ```

* Linux命令中的选项和参数也可以一起使用

  ```shell
  ls -la /home/lcz
  ```


## 2.5 目录切换相关命令cd/pwd

### 2.5.1 切换工作目录命令cd

* 可以通过cd命令更改当前所在的工作目录

  * Change Directory

* 语法

  ```shell
  cd [Linux目录]
  ```

  * cd命令无需选项，只有参数，表示要切换到哪个目录下
  * cd命令直接执行，不写参数，表示回到用户的HOME目录

### 2.5.2 展示当前工作目录命令pwd

* 通过pwd命令，来查看当前所在的工作目录

  * Print Work Directory

* 语法

  ```shell
  pwd
  ```

  * 无选项，无参数，直接输入pwd即可

## 2.6 相对路径绝对路径和特殊路径符

### 2.6.1 绝对路径和相对路径

* 绝对路径：以根目录为起点，描述路径的一种写法，路径描述以/开头
  * cd /home/luchengzhou/test
* 相对路径：以当前目录为起点，描述路径的一种写法，路径描述无需以/开头
  * cd test

### 2.6.2 特殊路径符

| .    | 表示当前目录，比如cd ./Desktop                               |
| ---- | ------------------------------------------------------------ |
| ..   | 表示上一级目录， 比如：cd..切换到上一级目录， cd ../..切换到上两级目录 |
| ~    | 表示Home目录，比如：cd ~即可切换到HOME目录                   |

## 2.7 创建文件夹命令mkdir

* 来自英文：Make Directory

* 语法

  ```shell
  mkdir [-p] Linux路径
  ```

  * 参数必填，表示Linux路径，即要创建的文件夹的路径，相对路径或绝对路径均可
  * -p选项可选，表示自动创建不存在的父目录，适用于创建连续多层级的目录

* 注意：创建文件夹需要修改权限，请确保操作在HOME目录内

  * 涉及到权限问题，HOME外可能无法成功

## 2.8 文件操作命令

### 2.8.1 使用touch创建文件

* 可以使用touch命令创建文件

* 语法

  ```shell
  touch Linux路径
  ```

  * touch无选项，参数必填，表示Linux路径
  * touch test.txt

* 在Linux中，使用ls命令，目录和文件会用不同的颜色表示

  * 进一步，使用ls -l 会显示详细信息，此时标识以d开头的表示目录，以-开头的表示文件

### 2.8.2 使用cat、more查看文件内容

* cat命令 查看文件路径

* 语法

  ```shell
  cat Linux路径
  ```

  * cat无选项，参数必填，参数表示：被查看的文件路径

* more命令 查看文件内容

  * cat是直接将内容全部显示出来
  * more支持翻页，如果文件内容过多，可以一页页的展示
    * 按空格进行翻页，按q退出

* 语法

  ```shell
  more Linux路径
  ```

  * more无选项，参数必填
  * more /etc/services

### 2.8.3 使用cp复制文件、文件夹

* cp命令可以用于复制文件、文件夹，cp命令来自英文单词：copy

* 语法

  ```shell
  cp [-r] 参数1 参数2
  ```

  * -r选项，可选，用于复制文件夹，表示递归（要复制文件夹必须使用选项-r）
  * 参数1，Linux路径，表示被复制的文件或文件夹
  * 参数2，Linux路径，表示要复制去的地方

### 2.8.4 使用mv移动文件、文件夹

* mv命令可以用于移动文件、文件夹，mv命令来源于单词：move

* 语法

  ```shell
  mv 参数1 参数2
  ```

  * mv无选项，参数必填
  * 参数1，Linux路径，表示被移动的文件或文件夹
  * 参数2，Linux路径，表示要移动去的地方（需要确保目标存在）
    * 如果目标不存在，则对文件或文件夹进行改名，以保证目标存在
      * mv test2.txt test3.txt，此时会将test2.txt改名为test3.txt
  * mv test2.txt /Desktop/: 表示将文件移动到文件夹里面
  * mv test /Desktop/：表示将文件夹移动到文件夹里面

### 2.8.5 使用rm删除文件、文件夹

* rm命令可以用于删除文件、文件夹，rm命令来源于单词：remove

* 语法

  ```shell
  rm [-r -f] 参数1 参数2 ...... 参数N
  ```

  * 同cp命令一样，-r选项表示用于删除文件夹
  * -f 表示force，强制删除（不会弹出提示确认信息），一般只有root管理员用户删除内容有提示，所以一般用不到
  * 参数1、参数2、......、参数N表示要删除的文件或文件夹路径，按照空格隔开

* rm命令支持通配符*，用来做模糊匹配
  * 符号*表示通配符，即匹配任意内容（包含空），示例
    * test*，表示匹配任何以test开头的内容
    * *test：表示匹配任何以test结尾的内容
    * *test\*：表示匹配任何包含test的内容

## 2.9 查找命令（which、find）

* 使用wihch命令查找命令的程序文件

  * Linux命令，它们的本体就是一个个的二进制可执行程序
  * 可以使用which命令，查看所使用的一系列命令的程序文件存放在哪里

* 语法

  ```shell
  which 要查找的命令
  ```

* 使用find命令查找指定文件

  * 在Linux系统中，可以使用find命令去搜索指定的文件

* 语法

  * 按照文件名查找

    ```shell
    find 起始路径 -name "被查找文件名"
    ```

    * 可以切换到root用户以获得管理员权限进行全盘搜索
    * su - root

  *  同样支持使用通配符*来做模糊匹配

  * 按照文件大小查找文件

    * +、-表示大于和小于
    * n表示大小数组
    * kMG表示大小单位，k（小写字符）表示kb，M表示MB，G表示GB

  ```shell
  find 起始路径 -size +|-n[kMG]
  ```

## 2.10 gerp、wc和管道符

### 2.10.1 grep命令

* 可以通过grep命令，从文件中通过关键字过滤文件行

* 语法

  ```shell
  grep [-n] 关键字 文件路径
  ```

  * 选项-n，可选，表示在结果中显示匹配的行的行号
  * 参数，关键字，必填，表示过滤的关键字，带有空格或其他特殊符号，建议使用“”将关键字包围起来（好习惯要养成）
  * 参数，文件路径，必填，表示要过滤内容的文件路径，可作为内容输出端口

* grep会输出满足关键字的行，并把关键字标红表示

### 2.10.2 wc命令做数量统计

* 可以通过wc命令统计文件的行数、单词数量等

* 语法

  * 选项，-c，统计bytes数量
  * 选项，-m，统计字符数量
  * 选项，-l，统计行数
  * 选项，-w，统计单词数量
  * 参数，文件路径，备用机的文件，可作为内容输入窗口

  ```shell
  wc [-c -m -l -w] 文件路径
  ```

### 2.10.3 管道符

* 管道符：|
  * 将管道符左边命令的结果，作为右边命令的输入(相当于在右边的命令后面再加上左边的输出作为参数，所以要考虑参数的位置)
    * 示例：cat test.txt | grep "world"
    * 示例：ls | grep "test*"
    * 示例：ls  | grep "test" | wc -l

## 2.11 echo、tail和重定向符

### 2.11.1 echo命令

* 可以使用echo命令在命令行内输出指定内容

* 语法

  ```shell
  echo 输出的内容
  ```

  * 无需选项，只有一个参数，表示要输出的内容，复杂内容可以用""包围

  * 带有空格或\等特殊符号，建议使用双引号包围
    * 不包围的话，空格后很容易被识别为参数2，尽管echo不受影响，但是要养成习惯

### 2.11.2 反引号``

* 可以通过将命令用反引号将其包围，被包围的内容会被作为命令执行，而非普通字符

* echo \`pwd`

### 2.11.3 重定向符

* 重定向符>和>>
  * \>：将左侧命令的结果，覆盖写入到符号右侧指定的文件中
  * \>>：将左侧命令的结果，追加写入到符号右侧指定的文件中

* 示例：ls -l | grep "test.txt" > test.txt

### 2.11.4 tail命令

* 使用tail命令，可以查看文件尾部内容，跟踪文件的最新更改

* 语法

  ```shell
  tail [-f -num] Linux路径
  ```

  * 参数，Linux路径，表示被跟踪的文件路径
  * 选项，-f，表示持续跟踪
  * 选项，-num，表示查看尾部多少行，不填默认10行  tail -20 test.txt
    * -num和-f不能同时使用

## 2.12 vi编辑器

### 2.12.1 vi\vim编辑器介绍

* vi\vim是visual interface的建成，是Linux中最经典的文本编辑器

* vi是命令行下对文本文件进行编辑的绝佳选择
* vim是vi的加强版本，兼容vi的所有指令，不仅能编辑文本，而且还具有shell程序编辑的功能，可以用不同颜色的字体来辨别语法的正确性，极大方便了程序的设计和编辑性

### 2.12.2 vi\vim编辑器的三种工作模式

* 命令模式（Command mode）：命令模式下，所敲的按键编辑器都理解为命令，以命令为驱动执行不同的功能。此模型下，不能自由进行文本编辑
* 输入模式（Insert mode）：也就是所谓的编辑模式、插入模式。此模式下，可以对文件内容进行自由编辑
* 底线命令模式（Last line mode）：以:开始，通常用于文件的保存、退出

![image-20241031152050587](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241031152050587.png)

* 进入输入模式的快捷键

  | **i** | **当前光标进入输入模式**       |
  | ----- | ------------------------------ |
  | **I** | **该行开头进入输入模式**       |
  | **a** | **当前光标下一位进入输入模式** |
  | **A** | **该行结尾进入输入模式**       |
  | **o** | **上增一行进入输入模式**       |
  | **O** | **下增一行进入输入模式**       |

* 命令模式快捷键

| **0**        | **移动光标到行开头**              |
| ------------ | --------------------------------- |
| **$**        | **移动光标到行结尾**              |
| **PgUp**     | **向上翻页**                      |
| **PgDown**   | **向下翻页**                      |
| **/**        | **进入搜索模式**                  |
| **n**        | **向上搜索**                      |
| **N**        | **向下搜索**                      |
|              |                                   |
| **dd**       | **删除光标所在的行**              |
| **ndd**      | **表示从当前行开始，删除向下n行** |
| **u**        | **撤销**                          |
| **ctrl + r** | **反向撤销**                      |

* 底线命令模式

| **:wq**     | **保存并退出** |
| ----------- | -------------- |
| **:q**      | **仅退出**     |
| **:q!**     | **强制退出**   |
| **:w**      | **仅保存**     |
| **:set nu** | **显示行号**   |

# 三.Linux用户和权限

## 3.1 Linux的root用户

* root用户
  * windows、MacOS、Linux均采用多用户的管理模式进行权限管理
  * 在Linux中，拥有最大权限的账户名为：root（超级管理员）
  * 一般用户使用的账户是普通的用户：lcz
  * 使用su - root进入root模式
    * 如果密码正确但出现报错：su: Authentication failure，需要先试用sudo passwd重置一下密码
    * 使用su - 用户名 退出root并进入用户模式
* 普通用户的权限，一般在其HOME目录下是不受限的
* 一旦出了HOME目录，大多数地方，普通用户仅有只读和执行权限，无修改权限

### 3.1.1 su和exit命令

* su命令就是用于账户切换的系统命令，来源于英文Switch User

* 语法

  ```shell
  su [-] [用户名]
  ```

  * -符号是可选的，表示是否在切换用户后加载环境变量，建议带上
  * 参数：用户名，表示要切换的用户，用户名可以省略，省略表示切换到root
  * 切换用户后，可以用过exit命令退回到上一个用户，也可以使用快捷键ctrl+d

### 3.1.2 sudo命令

* 虽然root有最大的权限，但是不建议长期使用root用户，避免带来系统损坏

* 可以使用sudo命令，为普通的命令授权，临时以root执行

* 语法

  ```shell
  sudo 其它命令
  ```

  * 在其他命令前，带上sudo，即可为这一条命令临时赋予root授权
  * 并不是所有的用户，都有权利使用sudo，我们需要为普通用户配置sudo认证

* 为普通用户配置sudo认证
  * 切换到root用户，执行visudo命令，会自动通过编辑器打开：/etc/sudoers（Ubuntu可以直接使用vim编辑）
  * 在文件的最后添加：用户名 ALL=(ALL)  NOPASSWD:ALL
    * 其中NOPASSWD:ALL表示使用sudo命令，无需输入密码
  * 通过:wq保存

## 3.2 用户、用户组管理

###  3.2.1 用户、用户组

* Linux系统中，可以：
  * 配置多个用户
  * 配置多个用户组
  * 用户可以加入多个用户组中

* Linux中关于权限的管控级别有2个，分别是：
  * 针对用户的权限控制
  * 针对用户组的权限控制
* 针对某文件，可以控制用户的权限，也可以控制用户组的权限

### 3.2.2 用户、用户组管理命令

* 用户组管理（需root用户执行）
  * 创建用户组：groupadd 用户组名
  * 删除用户组：groupdel 用户组名

* 用户管理（需root用户执行）
  * 创建用户：useradd [-g -d -m] 用户名
    * 选项：-g，指定用户的组，不指定-g会创建同名组并自动加入，指定-g需要组已存在，如已存在同名组，必须使用-g
    * 选项：-d，指定用户HOME路径，不指定，HOME目录默认在：/home/用户名
    * 选项：-m，是否创建HOME目录
  * 删除用户：userdel [-r] 用户名
    * 选项：-r，删除用户的HOME目录，不使用-r，删除用户是，HOME目录保留
  * 查看用户所属组：id [用户名]
    * 参数：用户名，被查看的用户名，如果不提供则查看自身
  * 修改用户所属组：usermod -aG 用户组 用户名
    * 将指定用户加入用户组

* getent可以查看当前系统中有哪些用户：getent passwd
  * getent group可以查看用户组中的用户
  * 共7份信息，分别是  用户名：密码（x）：用户ID：组ID：描述信息（无用）：HOME目录：执行终端（默认bash）

## 3.3 查看权限控制

### 3.3.1 认知权限信息

* 通过ls -l可以以列表形式查看内容，并显示权限细节
  * 第一列表示文件、文件夹的权限控制信息
  * 第二列表示文件、文件夹所属用户
  * 第三列表示文件、文件夹所属用户组

![image-20241031201252231](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241031201252231.png)

![image-20241031201503390](C:\Users\lcz\AppData\Roaming\Typora\typora-user-images\image-20241031201503390.png)

* i表示文件，d表示文件夹，l表示软连接
* r表示读权限，w表示写权限，x表示执行权限
* 对于文件：
  * r：查看文件内容
  * w：修改文件
  * x：将文件作为程序执行
* 对于文件夹：
  * r:查看文件夹内容，如ls
  * w：可以在文件夹内：创建、删除、改名等操作
  * x：表示可以更改工作目录到此文件夹，即cd进入

## 3.4 修改权限控制 - chmod

### 3.4.1 chmod命令

* 我们可以使用chmod命令，修改文件、文件夹的权限信息

  * 注意，只有文件、文件夹的所属用户或root用户可以修改

* 语法

  ```shell
  chmod [-R] 权限 文件或文件夹
  ```

  * 选项：-R，对文件夹内的全部内容应用同样的操作(注意这里指的是你改变权限的文件夹内的内容权限跟着改变，而不是它所属的文件夹)
  * 示例：chmod u-rw,g=rx,o=x hello.txt
    * u表示user所属用户权限，g表示group组权限，o表示other其他用户权限
  * 示例：chmod -R u=rwx,g=rx,o=x hello.txt
  * 除此之外，还有快捷写法：chmod 751 文件或文件夹

* 权限的数字序号:r标记为4，w标记为2，x标记为1

  * 0：---
  * 1：--x
  * 2：-w-
  * 3：-wx
  * 4：r--
  * 5：r-x
  * 6：rw-
  * 7：rwx

## 3.5 修改权限控制chown

* 使用chown可以修改文件、文件夹的所属用户和用户组

* 普通用户无法修改所属为其他用户或组，所以此命令只适用于root用户执行

* 语法

  ```shell
  chown [-R] [用户][:][用户组] 文件或文件夹
  ```

  * 选项，-R，同chmod，表示对文件夹内全部内容应用相同规则
  * 选项，用户，修改所属用户
  * 选项，用户组，修改所属用户组
  * ：用于分割用户和用户组

# 四.Linux操作技巧

## 4.1 各类小技巧（快捷键）

* ctrl+c强制停止（注意不同的Linux操作系统可能快捷键不一样）
  * 强制停止程序
  * 命令输入错误，也可以通过快捷键ctrl+c，退出当前输入，重新输入
  * 可能快捷键是ctrl+z
* ctrl+d退出或登出
  * 可以通过快捷键ctrl+d退出账户的登录
  * 或者退出特定程序的专属页面（例如python页面）
  * 注意：不能用于退出vi/vim，而需要使用底线命令模式

* history历史命令搜索
  * 通过history命令，查看历史输入过的命令
  * history | grep bert
  * 可以利用history查看、复制、修改之前的命令

* ！命令前缀，自动执行上一次匹配前缀的指令

* 光标移动快捷键：
  * ctrl+a：跳到命令开头
  * ctrl+e：跳到命令结尾
  * ctrl+左：向左跳一个单词
  * ctrl+右：向右跳一个单词

* 清屏：
  * ctrl+l
  * clear指令

## 4.2 软件安装

### 4.2.1 Linux系统的应用商店

操作系统安装软件有许多种方式，一般分为：

* 下载包自行安装
* 系统的应用商店内安装

Linux同样支持两种方式，首先是Linux命令行内的“应用商店”，yum命令安装软件

### 4.2.2 yum命令（CentOS）

* yum：RPM包（类似于windows下的.exe文件）软件管理器，用于自动化安装配置Linux软件，并可以自动解决依赖问题

* 语法

  ```shell
  yum [-y] [install|remove|search] 软件名称
  ```

  * 选项：-y，自动确认，无需手动确认安装或卸载过程
  * install：安装
  * remove：卸载
  * search：搜索

* yum命令需要root权限，yum命令需要联网

  * 可以su切换到root，或使用sudo提权

* 示例：

  * yum [-y] install wget
  * yum remove wget
  * yum search wget(这个是在应用商店里面搜索，而不是看自己是否安装)

### 4.2.3 apt命令（Ubuntu）

* Ubuntu系统使用的是.deb文件
* 其余的全部都与yum一致，只是需要将yum换成apt即可
* 示例：
  * apt install wget
  * apt remove wget
  * apt search wget

## 4.3 systemctl控制软件的启动和关闭

### 4.3.1 systemctl命令

* Linux系统有很多软件（内置的或第三方）均支持使用systemctl命令控制：启动、停止、开机自启

* 能够被systemctl管理的软件，一般也称之为：服务

* 语法：

  ```shell
  systemctl start | stop | status | enable | disable 服务名
  ```

  * start：启动
  * stop：关闭
  * status：查看状态
  * enable：开启开机自启
  * disable：关闭开机自启

* 系统内置的服务比较多。比如：

  * NetworkManager，主网络
  * network，副网络服务
  * firewalld，防火墙服务
  * sshd，ssh服务（远程连接就是使用的这个服务）

* 部分第三方软件安装后也可以使用systemctl控制
  * 部分软件后没有自动集成到systemctl中，我们可以手动添加

## 4.4 软链接

* 在系统中创建软链接，可以将文件、文件夹链接到其他位置（类似Windows系统中的快捷方式）

* 使用ln命令创建软链接

* 语法

  ```shell
  ln -s 参数1 参数2
  ```

  * 选项：-s，创建软链接
  * 参数1：被链接的文件或文件夹
  * 参数2：要链接去的目的地

## 4.5 日期和时区

### 4.5.1 date命令

* 使用dete命令查看系统的时间

* 语法：

  ```shell
  date [-d] [+格式化字符串]
  ```

  * 选项：-d，按照给定的字符串显示日期计算
    * 支持的时间标记：
      * year
      * month
      * day
      * hour
      * minute
      * second
    * 示例：date -d "+1 day" + "%Y-%m-%d"
  * 格式化字符串：
    * %Y
    * %y：年份后两位数字
    * %m：月份
    * %d
    * %H
    * %M：分
    * %S:秒
    * %s:自1970-01-01 00:00:00到现在的秒数

* 示例：
  * date +%Y%m%d
  * date +"%Y-%m-%d  %H:%M:%S"

### 4.5.2 修改Linux时区

* Linux系统默认时区是UTC，而不是中国的东八区

* 使用root权限，执行命令：

  ```shell
  rm -f /etc/localtime
  sudo ln -s /user/share/zoneinfo/Asia/Shanghai /etc/localtime
  ```

### 4.5.3 ntp程序

* 通过ntp程序自动校准时间

```shell
apt install ntp

systemctl start ntp
systemctl status ntp
systemctl enable ntp
```

* 手动校准：ntpdate -u ntp.aliyun.com

## 4.6 IP地址和主机名

### 4.6.1 IP地址

* 每一台联网的电脑都会有一个地址，用于和其他计算机进行通讯
* IP地址主要有两个版本，V4和V6
* IPv4的地址格式是：a.b.c.d，abcd都是0-255的数字
* 通过ifconfig查看ip地址
  * ens33表示主网卡

* 特殊IP地址：
  * 127.0.0.1：这个IP地址指代本机
  * 0.0.0.0
    * 可以用于指代本机
    * 可以再端口绑定中够用来确定绑定关系
    * 在一些IP地址限制中，表示所有IP。如放行规则设置为0.0.0.0，表示允许任意IP访问

### 4.6.2 主机名

* 每一台电脑除了对外联络地址（IP地址）以外，也可以有一个名字，称之为主机名
* 无论是Windows或Linux系统，都可以给系统设置主机名
* 使用hostname命令查看主机名
* 使用hostnamectl set-hostname 重命名  可以修改主机名（需root权限）

### 4.6.3 域名解析

* 域名解析流程（以www.baidu.com）为例：
  * 先查看本机的记录（私人地址本）
    * Windows看：C:\Windows\System32\drivers\etc\hosts
    * Linux看：/etc/hosts
  * 再联网去DNS服务器询问

* 配置主机名映射（在Windows和Linux对应的文件中添加信息）
  * 以  “IP地址 hostname” 的格式写入文件

### 4.6.4 固定IP（可以看第一章VScode 连接Linux）

* 当前虚拟机的Linux操作系统，其IP地址是通过DHCP服务获取的
  * DHCP：动态获取IP地址，即每次重启设备后都会重新获取一次，导致IP地址频繁变化
  * IP地址和主机名的映射也会变化，频繁更新不方便
* 在VMware Workstation中配置固定IP
  * 配置IP地址网关和网段
  * 在Linux系统重手动修改配置文件，固定IP

## 4.7 网络请求和下载

### 4.7.1 ping命令

* 可以通过ping命令，检查指定的网络服务器是否可联通

* 语法

  ```shell
  ping [-c num] ip或主机名
  ```

  * 选项：-c 检查的次数
  * 参数：ip或主机名

* 示例：ping -c 3 www.baidu.com

### 4.7.2 wget命令

* wget是非交互式的文件下载器，可以再命令行内下载网络文件

* 语法

  ```shell
  wget [-b] url
  ```

  * 选项：-b，后台下载，会将日志写入wget-log文件中
  * 参数：url，下载链接
  * 可以通过tail -f wget-log追踪下载进度

### 4.7.3 curl命令

* curl可以发送http网络请求，可用于：下载文件、获取信息等

* 语法

  ```shell
  curl [-O] url
  ```

  * 选项：-O，当链接是下载的时候用于保存文件
  * 参数：url：请求的网址

## 4.8 网络传输

### 4.8.1 端口

* 端口，是设备与外界通讯交流的出入口。可以分为两类：
  * 物理端口：就是平时看见的接口
  * 虚拟端口
* 计算机程序之间的通讯，通过IP只能锁定计算机，进一步需要使用端口锁定计算机上具体的程序，确保程序之间进行沟通

* Linux支持哦65535个端口，分为类
  * 公认端口：1~1023，通常用于一些系统内置和知名服务的预留使用。非特殊需要不要占用这些端口
  * 注册端口：1024~49151，通常可以随意使用
  * 动态端口：49152~65535，通常不会固定邦威程序，而是当程序对外进行网络链接时，用于临时使用

### 4.8.2 查看端口占用

* 使用nmap命令去查看端口的占用情况

  * 非内置，需要安装

* 语法

  ```shell
  nmap IP地址
  ```

### 4.8.3 netstat

* 语法

  ```shell
  netstat -anp | grep 端口号
  ```

  * 也可以利用grep筛选进程

## 4.9 进程管理

### 4.9.1 进程

* 程序在操作系统中，被操作系统所管理
* 每一个程序在运行的时候，便被操作系统注册为系统中的一个：进程。并会为每一个进程分配一个独有的：进程ID（进程号）

### 4.9.2 查看进程

* 使用ps查看Linux系统中的进程信息

* 语法

  ```shell
  ps [-e -f]
  ```

  * 选项：-e，显示出全部的进程
  * 选项：-f，以完全格式化的形式展示信息（展示全部信息）
    * UID：进程所属用户ID
    * PID：进程的进程号
    * PPID：进程的父ID
    * STIME：开始时间
    * TIME：进程占用CPU的时间
    * CMD：启动该进程的命令

### 4.9.3 关闭进程

* 使用kill命令关闭进程

* 语法

  ```shell
  kill [-9] 进程号
  ```

  * 选项：-9，表示强制关闭进程。不加-9表示要求关闭，具体是否关闭看进程本身

## 4.10 主机状态监控

### 4.10.1 查看系统资源占用

* 使用top命令查看
  * 默认每5s刷新一下

## 4.11 环境变量

### 4.11.1 环境变量

* 环境变量是操作系统在运行的时候，记录的一些关键性信息，用以辅助系统运行
* 在Linux系统中执行：env命令即可查看当前系统的环境变量
* 环境变量是一种KeyValue型结构

### 4.11.2 环境变量Path

* 通过环境变量中的PATH来找到默认程序（cd，ls等）
  * 有多个路径，会依次搜索，直到找到需要的程序

### 4.11.3 $符号

* 在Linux中，$符号被用于取值（使用与KeyValue型结构）
  * 示例：echo $PATH
  * 示例：echo ${PATH}ABC=>格式化

### 4.11.4 自行设置环境变量

* Linux支持用户自行设置环境变量
* 临时设置：语法： export 环境变量名=环境变量值
* 永久生效：(在文件中写export 环境变量名=环境变量值)
  * 针对当前用户，配置在当前用户的：~/bashrc文件中
  * 针对所有用户，配置：/etc/profile
  * 通过语法：source 配置文件，进行生效
  * 示例：
    * export MYNAME=LUCHENGZHUO
    * export PATH=${PATH}:newpath
      * 注意需要先把原本的PATH取出来

## 4.12 Linux文件的上传和下载

### 4.12.1 上传、下载

* 使用vscode完成下载：
  * 下载：页面右击选择下载
  * 上传：拖拽上传
* rz、sz命令
  * 非内置，需要安装：apt install -y lrzsz
  * 下载：sz 下载内容
  * 上传：rz
    * 弹出本机系统浏览页面
  * 注意：拖拽上传更快，rz上传很慢

## 4.13 压缩和解压

### 4.13.1 压缩格式

* 本部分主要学习在Linux系统中操作：tar、gzip、zip这三种压缩格式

### 4.13.2 tar命令

* Linux和Mac系统常用有两种压缩格式，后缀名分别是

  * .tar：归档文件，并没有太多文件体积的减少，仅仅是简单的封装
  * .gz：常见为.tar.gz，gzip格式压缩文件，可以极大的减少压缩后的体积

* 语法

  ```shell
  tar [-c -v -x -f -z -C] 参数1 参数2 ...... 参数N
  ```

  * 选项
    * -c：创建压缩文件，用于压缩格式
    * -v：显示压缩、解压过程，用于查看进度
    * -x：解压模式
    * -f：要创建的文件，或要解压的问价，-f选项必须在所有选项中位置处于最后一个
    * -z：gzip模式，不使用-z就是普通的.tar格式
    * -C：解压模式下，选择解压的目的地
  * tar压缩常用的组合：
    * -cvf：tar -cvf test.tar 1.txt 2.txt 3.txt
    * -zcvf：tar -zcvf test.tar.gz 1.txt 2.txt 3.txt
      * 注意：
        * z要使用的话，一般位于第一个
        * f必须在位置项的最后一个
  * tar解压常用组合
    * -xvf：tar -xvf test.tar
    * -xvf -C：tar -xvf test.tar.gz -C 指定的目的地
    * -zxvf -C：tar -zxvf test.tar.gz -C 指定的目的地

### 4.13.3 zip、unzip命令

* zip命令压缩文件

* 语法

  ```shell
  zip [-r] 参数1 参数2 ... 参数N
  ```

  * 选项：-r，需要压缩的内容包含文件夹时，需要使用该选项
  * 示例：zip -r test.zip test test.txt

* unzip解压文件

* 语法

  ```shell
  unzip [-d] 参数
  ```

  * 选项：-d，指定解压要去的位置
  * 参数：被解压的压缩包文件
  * 示例：unzip test -d /home/lcz
